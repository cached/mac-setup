---
apache_configuration_items:
  - regexp: "^Listen 80"
    line: "Listen 80"
  - regexp: "^#?LoadModule vhost_alias_module"
    line: "LoadModule vhost_alias_module lib/httpd/modules/mod_vhost_alias.so"
  - regexp: "^#?LoadModule rewrite_module"
    line: "LoadModule rewrite_module lib/httpd/modules/mod_rewrite.so"
  - regexp: "^    DirectoryIndex "
    line: "    DirectoryIndex index.php index.html"
  - regexp: "^#?Include /usr/local/etc/httpd/extra/httpd-vhosts.conf"
    line: "Include /usr/local/etc/httpd/extra/httpd-vhosts.conf"
  - regexp: "^User "
    line: "User {{ ansible_ssh_user | default(lookup('env', 'USER')) }}"
  - regexp: "^Group "
    line: "Group staff"
  - regexp: "^#?ServerName"
    line: "ServerName {{ ansible_hostname }}.local"
  - regexp: "^DocumentRoot "
    line: "DocumentRoot /Users/{{ ansible_ssh_user | default(lookup('env', 'USER')) }}/Sites"
  - regexp: "^#?LoadModule php5_module /usr/local/opt/php@5.6"
    line: "#LoadModule php5_module /usr/local/opt/php@5.6/lib/httpd/modules/libphp5.so"
  - regexp: "^#?LoadModule php7_module /usr/local/opt/php@7.0"
    line: "#LoadModule php7_module /usr/local/opt/php@7.0/lib/httpd/modules/libphp7.so"
  - regexp: "^#?LoadModule php7_module /usr/local/opt/php@7.1"
    line: "#LoadModule php7_module /usr/local/opt/php@7.1/lib/httpd/modules/libphp7.so"
  - regexp: "^#?LoadModule php7_module /usr/local/opt/php@7.2"
    line: "#LoadModule php7_module /usr/local/opt/php@7.2/lib/httpd/modules/libphp7.so"
